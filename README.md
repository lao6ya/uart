# uart学习
功能：uart回环，uart驱动


要点：接收模块的时钟，需要做过采样
    接收数据i_uart_rx与接收模块的时钟不同步（虽然频率差不多，波特率时钟），如果仅仅只是将数据简单的打两拍，将会导致亚稳态，使得最后数据传输误码率较大，原因是接收时钟与发送时钟有频差，一个时钟周期差一点点，很多个周期后，这个累积误差加大，这就会使得时钟有效沿采集到数据的变化时刻；
    
    而过采样，顾名思义，就是狠狠的采样，，所以需要用一个很快的时钟去采样数据（这里是50MHz的时钟，产生数据的时钟为波特率时钟），当检测到起始位，之后，开始生成接收时钟，这样可以确保时钟有效沿在数据的正中间，不会产生亚稳态，，时钟频差仍然存在，，所以每次接收数据的时候都重新生成接收时钟，，这样累积误差不会很大，不会产生亚稳态。。。。这里起始位检测，定义了一个r_rx_overvalue，，这个是50MHz时钟先后三次采样i_uart_rx 的结果，当r_rx_overvalue = 3'b000 ,且打拍之后的信号 r_rx_overvalue_1d != 3'b000,就表明检测到了起始位。检测到起始位之后，就表明需要产生接收时钟了，这里产生了一个 r_uart_rx_clk_rst 信号，当该信号为低电平就需要产生接收时钟，拉高就不用管，将该信号作为复位信号连接到CLK_DIV_module(时钟分频模块)就可以产生我们需要的接收时钟。

    发送模块，怎么实现？ 状态机or计数器？，这里计数器，，弄清楚什么数发送什么数据，比如 0 发送 起始位，1发送数据i_user_tx_data 的最低位，2发送次低位，依次类推；；需要注意一个问题，就是什么时候能够发送数据，这里用了一个o_user_tx_ready信号，当该信号拉高时，表明接收方能够接收数据，发送方就可以放松数据，当i_user_tx_valid （i_user_tx_data 数据有效指示信号）与
    同样接收模块，，也是利用计数器

